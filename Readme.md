<h1>
    <img src="https://github.com/Hypekingfish/Metar/blob/main/assets/streamerbot-logo-text.svg" width="250" valign="middle">
</h1>



[![Release](https://img.shields.io/github/v/release/hypekingfish/Metar)](https://github.com/Hypekingfish/Metar/releases) ![Discord](https://img.shields.io/discord/858390516223311922?logo=discord&label=Discord&labelColor=RGB%3A88101242)

# CPHInline METAR Fetcher

This is a C# program that fetches the latest METAR (Meteorological Aerodrome Report) for a given airport, providing a summary of weather conditions such as wind, visibility, cloud layers, temperature, and flight rules. It also includes features for detecting automated stations and severe weather conditions.

## Features

- Fetches METAR data for any airport using its ICAO code (e.g., `KSEA` for Seattle-Tacoma International Airport).
- Provides a weather summary, including:
  - Wind speed and direction.
  - Visibility in statute miles (SM).
  - Temperature and dew point in Celsius (converted to Fahrenheit).
  - Sky conditions (e.g., scattered clouds at 3,000 ft).
  - Altimeter reading in inHg and QNH in hPa.
- Displays flight category (VFR, MVFR, IFR, LIFR) based on visibility and cloud ceiling.
- Detects automated weather stations and provides a note on whether the report was generated by a human observer or an automated station.
- Alerts for severe weather conditions such as thunderstorms, fog, heavy rain, etc.
- Usage help and examples.

## Usage

1. **Command**: `!metar ICAO`
   - Example: `!metar KSEA`

2. **METAR Data**: The bot fetches the latest METAR for the provided ICAO code and returns information including:
   - Wind: Direction and speed (including gusts).
   - Visibility: In statute miles (SM).
   - Temperature/Dewpoint: In Celsius and Fahrenheit.
   - Altimeter: In inHg and QNH in hPa.
   - Sky: Cloud layers, their coverage, and altitude.
   - Weather: Current weather conditions (e.g., rain, snow, fog).
   - Flight Category: VFR, MVFR, IFR, or LIFR.

3. **Color Codes**:
   - ğŸŸ¢ **VFR**: Visual Flight Rules (clear weather).
   - ğŸ”µ **MVFR**: Marginal Visual Flight Rules (slightly degraded conditions).
   - ğŸŸ  **IFR**: Instrument Flight Rules (poor visibility).
   - ğŸ”´ **LIFR**: Low Instrument Flight Rules (very poor conditions).

## Help Command

You can get help with the command usage by entering:
- `!metar help`

This will return a message explaining how to use the `!metar ICAO` command.

## Example Output

```plaintext
ğŸŸ¢ **KSEA (VFR)** | ğŸ’¨ Wind: 360Â° at 6kt | ğŸ‘ï¸ Visibility: 10 SM | ğŸŒ¡ï¸ Temp/Dew: 15/12Â°C (59/54Â°F) | ğŸ“Ÿ Altimeter: 29.92 inHg (QNH 1013) | â˜ï¸ Sky: Scattered at 4,500ft | ğŸŒ§ï¸ Wx: None (VISNO present) | ğŸ¤– Automated Report | Obs: Apr 21, 12:00 UTC | METAR: KSEA 211200Z 36006KT 10SM FEW045 15/12 A2992 RMK AO2 SLP245

